{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "826dd485_a98c179b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 39
      },
      "lineNbr": 0,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-03-09T09:26:07Z",
      "side": 1,
      "message": "\u003e With this change, we enable 3 equalizations (taht can be mixed)\n\u003e - power\n\u003e - power spectral density (psd)\n\u003e - user defined power delta\n\nI think this description is potentially misleading. The way I currently understand it is there are 2 equalization options (not 3): power and psd. In addition to that, a user can define a delta per channel which is applied for both power and psd options.",
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48c46ca8_dfb4a109",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 39
      },
      "lineNbr": 0,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-03-11T15:24:55Z",
      "side": 1,
      "message": "After having used and thought about this a bit, I feel like this way of indicating equalization option, i.e. by which parameter is set (target_pch_out_db vs. target_psd_out_mWperGHz) adds unnecessary complexity to the code. I think it would be simpler to add a separate enum attribute indicating equalization option and always specify target in dBm (mW/GHz requires users to do extra calculations and is more difficult to think about). It would also be easier to extend to other equalization options in the future (psd by slotwidth, etc.). Anyway, something for discussion...",
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "706d3ff3_1eaf7654",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 39
      },
      "lineNbr": 0,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-23T13:35:14Z",
      "side": 1,
      "message": "I have change the commit comment with your suggestion",
      "parentUuid": "826dd485_a98c179b",
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18ddab78_1bba0410",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 39
      },
      "lineNbr": 0,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-24T09:45:40Z",
      "side": 1,
      "message": "OK for me: would something like this be OK?\n\n`\n    roadm_config \u003d {\n        \"uid\": \"roadm Brest_KLA\",\n        \"params\": {\n            \"equalization\": \"power\",    \u003c- enum(\"power\", \"psd\")\n            \"target_pch_out_db\": -20,   \u003c- default power for the ref channel\n            \"per_degree_pch_out_db\": {\n                \"east edfa in Lannion_CAS to Corlay\": -16 \u003c- same per degree definition as before\n            }\n            per_degree-equalization: {    \u003c- additional information per degree\n                                          use default equalization if degree not\n                                          present\n                \"east edfa in Lannion_CAS to Corlay\": \"power\"\n                \"east edfa in Lannion_CAS to Stbrieuc\": \"psd\"\n            }\n        }\n    }\n`",
      "parentUuid": "48c46ca8_dfb4a109",
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7025b61_04c4d5e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 39
      },
      "lineNbr": 0,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-09-22T12:43:56Z",
      "side": 1,
      "message": "After sharing this internally with users, I feel that this change may confuse users: for example one may define per_degree_pch_out_db in a Roadm, and be confused that it is not this power that is applied (not understanding the equalisation parameter). So I\u0027d rather not change the current way.",
      "parentUuid": "18ddab78_1bba0410",
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdb0b878_5343d395",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 278,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-03-10T08:30:45Z",
      "side": 1,
      "message": "ref_baud_rate is only used in one place so I think this assignment to a separate variable is unnecessary.",
      "range": {
        "startLine": 278,
        "startChar": 8,
        "endLine": 278,
        "endChar": 67
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "314f0cee_bde4d450",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 278,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-23T13:35:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdb0b878_5343d395",
      "range": {
        "startLine": 278,
        "startChar": 8,
        "endLine": 278,
        "endChar": 67
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24165896_5a1824ae",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 279,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-03-09T10:02:35Z",
      "side": 1,
      "message": "All of these should probably check explicitly for None. Otherwise, this will be false if target_pch_out_dbm is set to 0 dBm.",
      "range": {
        "startLine": 279,
        "startChar": 8,
        "endLine": 279,
        "endChar": 34
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45686925_1514debd",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 279,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-23T13:35:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "24165896_5a1824ae",
      "range": {
        "startLine": 279,
        "startChar": 8,
        "endLine": 279,
        "endChar": 34
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77b880a5_1a38adde",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 284,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-03-09T10:47:07Z",
      "side": 1,
      "message": "The commit message says that mixing equalizations is supported so that e.g. the default is power but you can specify psd for one specific degree. However, this code doesn\u0027t work like that. If the general target_psd_out_mWperGHz is not set, it will not use psd for any degree even if it is defined. What is the intended functionality?",
      "range": {
        "startLine": 282,
        "startChar": 8,
        "endLine": 284,
        "endChar": 66
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b48bbf3_cf4c548d",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 284,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-24T09:45:40Z",
      "side": 1,
      "message": "I wanted to do what\u0027s written in the commit however forgot to do it. I have changed the code accordingly.\n(I correct this first and then process towards the enum format)",
      "parentUuid": "77b880a5_1a38adde",
      "range": {
        "startLine": 282,
        "startChar": 8,
        "endLine": 284,
        "endChar": 66
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53d6e374_eb3bc8fa",
        "filename": "gnpy/core/elements.py",
        "patchSetId": 39
      },
      "lineNbr": 284,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-03-25T17:57:53Z",
      "side": 1,
      "message": "Done. I have added a set of tests on the test_equalization commit to check that all combinations are ok",
      "parentUuid": "7b48bbf3_cf4c548d",
      "range": {
        "startLine": 282,
        "startChar": 8,
        "endLine": 284,
        "endChar": 66
      },
      "revId": "22ed5574f656b53b8b63fee4d8204609a168c1db",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}