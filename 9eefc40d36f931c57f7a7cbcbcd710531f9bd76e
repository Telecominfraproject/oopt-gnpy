{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "10750aae_9ceb840b",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-01-11T09:42:04Z",
      "side": 1,
      "message": "I understand the motivation for the this change, but leaving these digits then leads to inconsistency with previous fiber loss (16.84755 dB) and delta_p (0dBm).\nI would prefer to add a test checking if value is none before rounding rather than removing the rounding. 5 digit for gain values look already a lot to me... shouldn\u0027t we instead limit the number of digits the user can input ?",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d49df43_d6c8e341",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-01-11T15:01:58Z",
      "side": 1,
      "message": "\u003e I understand the motivation for the this change, but leaving these digits then leads to inconsistency with previous fiber loss (16.84755 dB) and delta_p (0dBm).\n\nI\u0027m not following this reasoning. What inconsistency? The previous fiber span loss is not printed or saved anywhere. The gain_target here is simply the result of the calculation of the previous span loss, 0.2*84.23775, using floating point arithmetic.\n\nI agree that we should rather limit the user input but as Jan explained, this is difficult without YANG, and I\u0027m not sure it solves all issues with floating point arithmetic either.",
      "parentUuid": "10750aae_9ceb840b",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "086fab25_84cc7232",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-01-11T16:04:19Z",
      "side": 1,
      "message": "I meant \"fiber (Dallas â†’ Abilene)-_(4/4)\" for the example and you are right there is no delta_p reported in this topology. I meant if you set delta_p to 0 on the amplifier previous to this span (run gnpy-transmission-example tests/data/CORONET_Global_Topology.xlsx --save-network coucou.json -e tests/data/eqpt_config.json) and look at coucou.json, then the succession of delta_p + fiber loss + gain is not consistant:\n0 - 16.84755 + 16.847550000000002 !\u003d 0 (value of delta_p of this amp)\nwhereas this was consistant before your change (gain and loss equal to 16.84755) or before  e1f2c55942d3601 change (gain and loss equal to 16.847550000000002)\n\nhope this is clearer",
      "parentUuid": "5d49df43_d6c8e341",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d045bf3_ceb82cf4",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-01-11T17:10:23Z",
      "side": 1,
      "message": "No, sorry, it\u0027s still not clear to me. I ran the command you suggested and when I look at coucou.json, the fiber span loss, 16.84755 dB, is not reported there because span loss is not part of the topology json, only fiber length and loss_coef are.",
      "parentUuid": "086fab25_84cc7232",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94154fba_fdf1a6fa",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017751
      },
      "writtenOn": "2022-01-11T17:35:37Z",
      "side": 1,
      "message": "Ah OK now I understand! I assumed fiber loss \u003d loss_coef * length, so for the example, fiber loss is 0.2 * 84.23775 \u003d 16.84755.",
      "parentUuid": "4d045bf3_ceb82cf4",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "618c7479_9a346a1f",
        "filename": "tests/data/CORONET_Global_Topology_auto_design_expected.json",
        "patchSetId": 1
      },
      "lineNbr": 82960,
      "author": {
        "id": 1017862
      },
      "writtenOn": "2022-01-11T19:47:19Z",
      "side": 1,
      "message": "\u003e Ah OK now I understand! I assumed fiber loss \u003d loss_coef * length, so for the example, fiber loss is 0.2 * 84.23775 \u003d 16.84755.\n\nExcept that with floating point arithmetic:\n\n \u003e\u003e\u003e 0.2 * 84.23775\n 16.847550000000002",
      "parentUuid": "94154fba_fdf1a6fa",
      "range": {
        "startLine": 82960,
        "startChar": 0,
        "endLine": 82960,
        "endChar": 42
      },
      "revId": "9eefc40d36f931c57f7a7cbcbcd710531f9bd76e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}